# Offline Video Editor

**オフライン動画編集アプリ** - プライバシーを重視した、完全オフラインで動作するiOS向け動画編集アプリケーションです。

## 概要

Offline Video Editorは、インターネット接続なしで動作する動画編集アプリです。ユーザーのプライバシーを守りながら、プロフェッショナルな動画編集機能を提供します。

## 主要機能

### 📹 基本編集機能
- **トリミング**: 動画の開始・終了点を調整
- **カット**: 不要な部分を削除
- **分割**: 動画を複数のクリップに分割
- **結合**: 複数の動画を一つに結合
- **速度変更**: スロー/ファスト再生（0.25x - 4.0x）
- **回転**: 90°/180°/270°回転
- **クロップ**: 画面の一部を切り出し

### 🎨 ビジュアルエフェクト
- **フィルター**: 明るさ、コントラスト、彩度調整
- **エフェクト**: ブラー、セピア、ビンテージ、白黒など
- **トランジション**: フェード、ディゾルブ、ワイプ、スライド

### 📝 字幕機能
- **自動字幕生成**: 音声認識による自動字幕作成（Whisper統合予定）
- **字幕編集**: フォント、色、サイズ、位置のカスタマイズ
- **複数言語対応**: 日本語、英語、中国語、韓国語
- **タイミング調整**: 字幕の表示タイミングを細かく調整

### 🎵 音声編集
- **BGM追加**: 背景音楽の追加
- **音量調整**: 音量レベルの変更（0% - 200%）
- **フェードイン/アウト**: 音声のフェード効果
- **ナレーション録音**: カスタムナレーションの録音

### 📤 エクスポート機能
- **解像度選択**: 480p, 720p, 1080p, 4K
- **フレームレート**: 24fps, 30fps, 60fps
- **アスペクト比**: 16:9, 9:16, 1:1, 4:3, 21:9
- **品質設定**: 低、中、高、最高

## 技術スタック

### フレームワーク
- **SwiftUI**: モダンなユーザーインターフェース
- **AVFoundation**: 動画・音声処理
- **Core Audio**: 高度な音声編集
- **Speech Framework**: 音声認識（字幕生成）

### アーキテクチャ
- **MVVM**: Model-View-ViewModel パターン
- **Combine**: リアクティブプログラミング
- **Swift Concurrency**: 非同期処理

### プロジェクト構造
```
OfflineVideoEditor/
├── Models/              # データモデル
│   ├── VideoProject.swift
│   ├── Subtitle.swift
│   ├── AudioTrack.swift
│   ├── Effect.swift
│   └── TimelineItem.swift
├── Views/               # ビュー
│   ├── MainEditorView.swift
│   ├── EditToolsView.swift
│   ├── SubtitleToolsView.swift
│   ├── AudioToolsView.swift
│   ├── EffectToolsView.swift
│   ├── ExportToolsView.swift
│   └── VideoImportView.swift
├── ViewModels/          # ビューモデル
│   └── VideoEditorViewModel.swift
├── Services/            # サービスレイヤー
│   ├── VideoEditorService.swift
│   ├── AudioEditorService.swift
│   ├── SubtitleGenerationService.swift
│   └── ExportService.swift
└── Utilities/           # ユーティリティ
```

## UI設計

### レイアウト
- **プレビュー画面**: 上部中央に配置
- **ツールパネル**: 下部に編集ツールを表示
- **タブナビゲーション**: 最下部に主要機能へのアクセス
- **縦画面対応**: 片手操作を考慮した設計

### タブ構成
1. **編集**: トリミング、カット、分割、速度変更など
2. **字幕**: 字幕の自動生成と編集
3. **音声**: 音量調整、BGM追加、フェード効果
4. **エフェクト**: フィルターとビジュアルエフェクト
5. **エクスポート**: 出力設定と書き出し

## 必要な権限

アプリは以下の権限を必要とします：

- **カメラ**: 動画の録画（オプション）
- **マイク**: ナレーションの録音
- **フォトライブラリ**: 動画の読み込みと保存
- **音声認識**: 字幕の自動生成

## パフォーマンス最適化

### オフライン機能
- 全機能がオフラインで動作
- インターネット接続不要
- プライバシー保護を最優先

### リソース管理
- メモリ使用量の最適化
- バックグラウンド処理による UI のスムーズさ
- 高解像度動画への対応

## 今後の実装予定

### Whisper統合
- Whisper.cppの統合
- より高精度な字幕生成
- オフラインでの多言語対応強化

### 追加機能
- ピクチャーインピクチャー
- グリーンスクリーン合成
- 3Dアニメーション
- ステッカー・絵文字の追加
- 図形とイラストレーション

## 開発環境

- **Xcode**: 15.0以上
- **iOS**: 17.0以上
- **Swift**: 5.9以上

## ビルド方法

1. Xcodeでプロジェクトを開く
2. 実機またはシミュレータを選択
3. ビルド＆実行（⌘ + R）

## ライセンス

このプロジェクトは個人開発用です。

## 作成者

竹内音碧

## 更新履歴

### v1.0.0 (2025/10/23)
- 初回リリース
- 基本編集機能の実装
- 字幕自動生成機能の実装
- 音声編集機能の実装
- エフェクト機能の実装
- エクスポート機能の実装

